# План реализации Desktop Entry Creator GUI

## Структура проекта

Предлагаемая организация файлов и директорий для чистоты кода и разделения ответственности:

*   **`main.go`**: Точка входа в приложение. Инициализация инстанса Fyne, загрузка основного окна и запуск цикла событий.
*   **`ui/`**: Пакет, отвечающий за визуальное представление.
    *   **`window.go`**: Конфигурация и создание главного окна приложения.
    *   **`form.go`**: Построение формы ввода данных (поля, кнопки, чекбоксы).
*   **`models/`**: Пакет для структур данных.
    *   **`desktop_entry.go`**: Определение структуры данных, представляющей `.desktop` файл (поля Name, Exec, Icon, Type и т.д.).
*   **`functions/`** (или `generator/`): Пакет с бизнес-логикой.
    *   **`filegeneration.go`**: Логика формирования содержимого файла в формате INI и его запись на диск.
    *   **`utils.go`**: Вспомогательные функции (например, получение домашней директории пользователя).
*   **`assets/`** (опционально): Хранение иконок приложения или других статических ресурсов.

---

## Пошаговый план задач

### 1. Подготовка и Моделирование
*   Определить структуру данных (`struct`) для хранения информации о ярлыке.
*   Включить основные поля стандарта Desktop Entry:
    *   `Name` (Имя приложения)
    *   `Comment` (Описание)
    *   `Exec` (Путь к исполняемому файлу)
    *   `Icon` (Путь к иконке)
    *   `Type` (Тип, обычно Application)
    *   `Categories` (Категории меню)
    *   `Terminal` (Запуск в терминале: да/нет)

### 2. Реализация Пользовательского Интерфейса (UI)
*   Создать главное окно приложения с заголовком и фиксированным или ресайз-размером.
*   Реализовать форму ввода, используя виджеты Fyne (`Entry`, `Check`, `Select`):
    *   Текстовые поля для `Name`, `Comment`, `Categories`.
    *   Компоненты выбора файлов (`FileOpenDialog` или кнопка с иконкой папки) для полей `Exec` и `Icon`.
    *   Чекбокс для опции `Terminal`.
    *   Выпадающий список для поля `Type`.
*   Добавить кнопку "Создать" (Generate/Save) для запуска процесса генерации.
*   Добавить кнопку "Очистить" для сброса формы.

### 3. Логика Генерации (.desktop)
*   Реализовать функцию валидации данных (проверка, что обязательные поля `Name` и `Exec` заполнены).
*   Реализовать функцию форматирования данных в строку согласно спецификации Desktop Entry (формат `key=value`, группа `[Desktop Entry]`).
*   Реализовать логику определения пути сохранения:
    *   По умолчанию предлагать путь `~/.local/share/applications/` (стандартный путь для пользовательских ярлыков в Linux).
    *   Опционально: диалог сохранения файла для выбора произвольного пути.
*   Реализовать запись сформированного контента в файл с правами на исполнение (желательно `0755` или `0644`).

### 4. Обратная Связь и Улучшения
*   Добавить уведомления (Dialogs) для пользователя:
    *   Успешное создание файла.
    *   Ошибки валидации (не заполнены поля).
    *   Ошибки записи файла (права доступа и т.д.).
*   (Опционально) Реализовать предпросмотр содержимого файла перед сохранением.

### 5. Сборка и Тестирование
*   Проверить компиляцию проекта.
*   Запустить утилиту и создать тестовый `.desktop` файл.
*   Убедиться, что созданный ярлык корректно отображается в меню приложений Linux и запускает целевую программу.
